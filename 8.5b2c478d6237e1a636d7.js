(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{KG2P:function(e,t,o){"use strict";o.d(t,"a",function(){return s});var r=o("fXoL");const n=["*"];let s=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Eb({type:e,selectors:[["playground-page"]],ngContentSelectors:n,decls:2,vars:0,consts:[[1,"container","mx-auto","md:py-6"]],template:function(e,t){1&e&&(r.fc(),r.Qb(0,"div",0),r.ec(1),r.Pb())},styles:["[_nghost-%COMP%] {\n        display: block;\n      }"],changeDetection:0}),e})()},nDrI:function(e,t,o){"use strict";o.d(t,"a",function(){return s});var r=o("ofXK"),n=o("fXoL");let s=(()=>{class e{}return e.\u0275mod=n.Ib({type:e}),e.\u0275inj=n.Hb({factory:function(t){return new(t||e)},imports:[[r.c]]}),e})()},zeGr:function(e,t,o){"use strict";o.r(t),o.d(t,"PlaygroundWorkflowsFeatureListModule",function(){return L});var r=o("ofXK"),n=o("tyNb"),s=o("WeE/"),i=o("OJFL"),c=o("nDrI"),a=o("lkzG"),l=o("twkR"),f=o("ufcJ"),b=o("5Reb"),d=o("zp1y"),g=o("eIep"),u=o("vkgz"),p=o("5+tZ"),w=o("fXoL");let h=(()=>{class e extends b.a{constructor(e){super({workflows:{data:[],error:"",status:"idle"},saving:!1}),this.service=e,this.workflows$=this.select(e=>e.workflows),this.saving$=this.select(e=>e.saving),this.vm$=this.select(this.workflows$,this.saving$,({data:e,status:t},o)=>({workflows:e,saving:o,isLoading:"loading"===t&&!(null==e?void 0:e.length),isEmpty:"success"===t&&!(null==e?void 0:e.length)})),this.updateWorkflows=this.updater((e,t)=>{e.workflows=t,e.saving=!1}),this.loadWorkflowsEffect=this.effect(e=>e.pipe(Object(d.a)(this.workflows$),Object(g.a)(([,{data:e=[]}])=>this.service.items(e).pipe(Object(f.b)(e=>{this.updateWorkflows(e)},console.error))))),this.addWorkflowEffect=this.effect(e=>e.pipe(Object(u.a)(()=>this.patchState({saving:!0})),Object(p.a)(e=>this.service.create(Object.assign(Object.assign({},e),{maxDepth:2})).pipe(this.reload)))),this.deleteWorkflowEffect=this.effect(e=>e.pipe(Object(p.a)(e=>this.service.delete(e.id).pipe(this.reload)))),this.reload=Object(f.b)(()=>this.loadWorkflowsEffect(),console.error)}}return e.\u0275fac=function(t){return new(t||e)(w.Ub(a.b))},e.\u0275prov=w.Gb({token:e,factory:e.\u0275fac}),e})();var k=o("KG2P"),y=o("qvdW"),v=o("Czul");function m(e,t){1&e&&(w.Ob(0),w.Qb(1,"div",11),w.Qb(2,"p"),w.uc(3,"There are no workflows."),w.Pb(),w.Pb(),w.Nb())}function x(e,t){if(1&e){const e=w.Rb();w.Ob(0),w.Qb(1,"div",12),w.Qb(2,"p",13),w.uc(3),w.Pb(),w.Qb(4,"button",14),w.Xb("click",function(o){w.mc(e);const r=t.$implicit,n=w.ac(2);return o.stopPropagation(),n.deleteWorkflow(r)}),w.Lb(5,"playground-icon",15),w.Pb(),w.Pb(),w.Nb()}if(2&e){const e=t.$implicit;w.zb(1),w.gc("routerLink",e.id),w.zb(2),w.wc(" ",e.name," ")}}function P(e,t){1&e&&(w.Qb(0,"div",16),w.uc(1," Saving... "),w.Pb())}function O(e,t){if(1&e){const e=w.Rb();w.Ob(0),w.Qb(1,"playground-page"),w.Qb(2,"div",1),w.Qb(3,"div",2),w.Qb(4,"div",3),w.Qb(5,"h3",4),w.uc(6,"Workflows"),w.Pb(),w.Qb(7,"div",5),w.Lb(8,"playground-loading",6),w.sc(9,m,4,0,"ng-container",0),w.sc(10,x,6,2,"ng-container",7),w.sc(11,P,2,0,"div",8),w.Pb(),w.Qb(12,"input",9,10),w.Xb("keydown.enter",function(){w.mc(e);const t=w.lc(13);return w.ac().addWorkflow(t)}),w.Pb(),w.Pb(),w.Pb(),w.Pb(),w.Pb(),w.Nb()}if(2&e){const e=t.ngIf;w.zb(8),w.gc("loading",e.isLoading),w.zb(1),w.gc("ngIf",e.isEmpty),w.zb(1),w.gc("ngForOf",e.workflows),w.zb(1),w.gc("ngIf",e.saving)}}let W=(()=>{class e{constructor(e){this.workflowListStore=e,this.vm$=this.workflowListStore.vm$}ngOnInit(){this.workflowListStore.loadWorkflowsEffect()}addWorkflow(e){this.workflowListStore.addWorkflowEffect({name:e.value,group:{id:Object(l.b)(),type:a.a.group,children:[],level:0}}),e.value=""}deleteWorkflow(e){this.workflowListStore.deleteWorkflowEffect(e)}}return e.\u0275fac=function(t){return new(t||e)(w.Kb(h))},e.\u0275cmp=w.Eb({type:e,selectors:[["playground-workflow-list"]],features:[w.yb([h])],decls:2,vars:3,consts:[[4,"ngIf"],[1,"bg-white","dark:bg-gray-800","text-gray-900","dark:text-gray-200","shadow-lg","rounded-lg","overflow-hidden","py-4","px-6"],[1,"sm:flex","sm:items-center"],[1,"flex-grow"],[1,"font-semibold","px-2","py-3","leading-tight"],[1,"w-full"],[3,"loading"],[4,"ngFor","ngForOf"],["class","flex cursor-pointer px-4 py-2 mb-3 bg-gray-100 dark:bg-gray-700 hover:bg-blue-lightest animate-pulse rounded",4,"ngIf"],["type","text","required","required","placeholder","Add workflow name and hit \u23ce",1,"w-full","text-lg","bg-gray-100","dark:bg-gray-700","text-gray-700","dark:text-gray-300","rounded","px-4","py-2","focus:outline-none",3,"keydown.enter"],["task",""],["role","alert",1,"flex","items-center","justify-center","bg-gray-100","dark:bg-gray-700","px-4","py-2","mb-3","rounded"],[1,"flex","cursor-pointer","mb-3","hover:bg-blue-lightest","rounded","flex","align-center","justify-between","bg-gray-100","dark:bg-gray-700","px-4","py-2",3,"routerLink"],[1,"hover:text-blue-dark"],[1,"text-gray-200","hover:text-red-600",3,"click"],["icon","trash","size","sm"],[1,"flex","cursor-pointer","px-4","py-2","mb-3","bg-gray-100","dark:bg-gray-700","hover:bg-blue-lightest","animate-pulse","rounded"]],template:function(e,t){1&e&&(w.sc(0,O,14,4,"ng-container",0),w.bc(1,"async")),2&e&&w.gc("ngIf",w.cc(1,1,t.vm$))},directives:[r.l,k.a,y.a,r.k,n.b,v.a],pipes:[r.b],styles:["[_nghost-%COMP%] {\n        display: block;\n      }"],changeDetection:0}),e})(),L=(()=>{class e{}return e.\u0275mod=w.Ib({type:e}),e.\u0275inj=w.Hb({factory:function(t){return new(t||e)},imports:[[r.c,n.e.forChild([{path:"",component:W}]),s.a,c.a,i.a]]}),e})()}}]);